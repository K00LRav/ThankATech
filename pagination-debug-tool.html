<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pagination Debug Helper</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #1a1a1a;
            color: #fff;
        }
        .card {
            background: #2a2a2a;
            border-radius: 12px;
            padding: 24px;
            margin: 16px 0;
            border: 1px solid #444;
        }
        .alert {
            background: #ff6b6b20;
            border: 1px solid #ff6b6b;
            border-radius: 8px;
            padding: 16px;
            margin: 16px 0;
        }
        .success {
            background: #4ecdc420;
            border: 1px solid #4ecdc4;
        }
        button {
            background: #007acc;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            margin: 8px;
        }
        button:hover {
            background: #005999;
        }
        .code {
            background: #333;
            padding: 12px;
            border-radius: 6px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 14px;
            overflow-x: auto;
        }
        .result {
            margin: 16px 0;
            padding: 12px;
            border-radius: 6px;
            background: #333;
        }
    </style>
</head>
<body>
    <div class="card">
        <h1>üîç ThankATech Pagination Debug Tool</h1>
        <p>This tool helps debug the "19 pages" vs "14 profiles" issue.</p>
        
        <div class="alert">
            <strong>‚ö†Ô∏è Issue:</strong> You see "19 pages" but only 14 profiles are displayed.
        </div>
        
        <h2>Step 1: Clear Cache & Data</h2>
        <button onclick="clearAllData()">üßπ Clear All Browser Data</button>
        <div id="clearResult" class="result" style="display: none;"></div>
        
        <h2>Step 2: Check Current State</h2>
        <button onclick="checkPagination()">üîç Analyze Current Pagination</button>
        <div id="checkResult" class="result" style="display: none;"></div>
        
        <h2>Step 3: Go to ThankATech</h2>
        <button onclick="goToSite()">üöÄ Open ThankATech (New Tab)</button>
        
        <div class="card">
            <h3>Manual Cache Clear Instructions</h3>
            <div class="code">
                <strong>Windows:</strong> Ctrl+Shift+R (Hard Refresh)<br>
                <strong>Mac:</strong> Cmd+Shift+R (Hard Refresh)<br>
                <strong>Or:</strong> F12 ‚Üí Network ‚Üí ‚òëÔ∏è Disable cache ‚Üí Refresh<br>
                <strong>Or:</strong> Ctrl+Shift+Delete ‚Üí Clear cached data
            </div>
        </div>
        
        <div class="card">
            <h3>What to Look For</h3>
            <ul>
                <li><strong>Red Debug Badge:</strong> Should show "DEBUG: 14 profiles loaded"</li>
                <li><strong>Pagination Text:</strong> Should show "1 of 14", "2 of 14", etc.</li>
                <li><strong>Console Messages:</strong> Look for "üîç DEBUG: ‚≠ê‚≠ê‚≠ê Loaded technicians count: 14"</li>
            </ul>
        </div>
        
        <div id="results" class="card" style="display: none;">
            <h3>üéØ Debug Results</h3>
            <div id="resultContent"></div>
        </div>
    </div>

    <script>
        function clearAllData() {
            const result = document.getElementById('clearResult');
            result.style.display = 'block';
            result.innerHTML = 'üßπ Clearing all browser data...';
            
            // Clear localStorage
            localStorage.clear();
            
            // Clear sessionStorage
            sessionStorage.clear();
            
            // Clear IndexedDB (if any)
            if ('indexedDB' in window) {
                indexedDB.deleteDatabase('thankatech');
            }
            
            // Unregister service workers
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.getRegistrations().then(registrations => {
                    registrations.forEach(registration => {
                        registration.unregister();
                    });
                });
            }
            
            setTimeout(() => {
                result.innerHTML = '‚úÖ Cache cleared! Now go to ThankATech and check the pagination.';
                result.className = 'result success';
            }, 1000);
        }
        
        function checkPagination() {
            const result = document.getElementById('checkResult');
            result.style.display = 'block';
            result.innerHTML = 'üîç Checking for pagination elements...';
            
            // Look for elements with pagination-like text
            const allText = document.body.innerText || '';
            const paginationMatches = allText.match(/\d+\s*(of|page|pages|total)\s*\d*/gi) || [];
            
            setTimeout(() => {
                if (paginationMatches.length === 0) {
                    result.innerHTML = 'üìù No pagination found on this page. Please run this on thankatech.com';
                } else {
                    result.innerHTML = `üìÑ Found pagination patterns: ${paginationMatches.join(', ')}`;
                }
            }, 500);
        }
        
        function goToSite() {
            window.open('https://thankatech.com', '_blank');
            
            // Show instructions
            const results = document.getElementById('results');
            const content = document.getElementById('resultContent');
            results.style.display = 'block';
            content.innerHTML = `
                <div class="alert success">
                    <strong>‚úÖ ThankATech opened in new tab!</strong><br><br>
                    <strong>What to check:</strong><br>
                    1. Look for red "DEBUG: X profiles loaded" badge<br>
                    2. Check pagination shows "1 of 14" format<br>
                    3. Open F12 console for debug messages<br>
                    4. If you still see "19 pages", take a screenshot and report it
                </div>
            `;
        }
        
        // Auto-run basic checks on load
        window.onload = function() {
            console.log('üîç Pagination Debug Tool Loaded');
            console.log('üìù Instructions: Clear cache, then visit thankatech.com');
        };
    </script>
</body>
</html>